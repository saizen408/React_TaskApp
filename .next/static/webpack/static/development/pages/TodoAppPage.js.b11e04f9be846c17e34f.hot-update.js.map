{"version":3,"file":"static/webpack/static/development/pages/TodoAppPage.js.b11e04f9be846c17e34f.hot-update.js","sources":["webpack:///./components/DraggableTodo.js"],"sourcesContent":["import React, { useContext, memo, useEffect } from \"react\";\nimport { SortableElement } from \"react-sortable-hoc\";\nimport useToggleState from \"./hooks/useToggleState\";\nimport EditTodoForm from \"./EditTodoForm\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport Switch from \"@material-ui/core/Switch\";\nimport { useSnackbar } from \"notistack\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport { DispatchContext } from \"./contexts/todos.context\";\nimport { LanguageContext } from \"./contexts/LanguageContext\";\nimport { Paper } from \"@material-ui/core\";\nimport moment from \"moment\";\nimport { words } from \"./words\";\n\nconst DraggableTodo = SortableElement(\n  ({ _id, description, completed, updatedAt, sorted, tasksDBIdx }) => {\n    const dispatch = useContext(DispatchContext);\n    const { language } = useContext(LanguageContext);\n    const [isEditing, toggle] = useToggleState(false);\n    const { enqueueSnackbar } = useSnackbar();\n    const { lastUpdated } = words[language];\n\n    const handleDeleteClick = () => {\n      enqueueSnackbar(`❌ Deleted Task: \"${description}\"`);\n    };\n\n    const handleToggleClick = () => {\n      enqueueSnackbar(`Good work! 💪 Task: \"${description}\" completed!`);\n    };\n\n    const formatedDate = () => {\n      moment.locale(language);\n      return moment(updatedAt).format(\"lll\");\n    };\n\n    return (\n      <Paper elevation={3}>\n        <ListItem style={{ height: \"65px\" }} divider={true}>\n          {isEditing ? (\n            <EditTodoForm\n              _id={_id}\n              tasksDBIdx={tasksDBIdx}\n              sorted={sorted}\n              description={description}\n              toggleEditForm={toggle}\n            />\n          ) : (\n            <>\n              <Switch\n                tabIndex={-1}\n                onChange={() => {\n                  sorted({ type: \"TOGGLE\", id: _id, completed: completed });\n                  if (tasksDBIdx._id) {\n                    dispatch({\n                      type: \"TOGGLE\",\n                      id: tasksDBIdx._id,\n                      completed: completed\n                    });\n                  }\n                  console.log(completed);\n                  completed ? null : handleToggleClick();\n                }}\n                checked={completed}\n              />\n              <ListItemText\n                style={{ textDecoration: completed ? \"line-through\" : \"none\" }}\n                primary={description}\n                secondary={`${lastUpdated}: ${formatedDate()}`}\n              ></ListItemText>\n              <ListItemSecondaryAction>\n                <IconButton\n                  aria-label=\"Delete\"\n                  onClick={() => {\n                    sorted({ type: \"REMOVE\", id: _id });\n                    if (tasksDBIdx._id) {\n                      dispatch({ type: \"REMOVE\", id: tasksDBIdx._id });\n                    }\n                    handleDeleteClick();\n                  }}\n                >\n                  <DeleteIcon></DeleteIcon>\n                </IconButton>\n                <IconButton aria-label=\"Edit\" onClick={toggle}>\n                  <EditIcon></EditIcon>\n                </IconButton>\n              </ListItemSecondaryAction>{\" \"}\n            </>\n          )}\n        </ListItem>\n      </Paper>\n    );\n  }\n);\n\nexport default memo(DraggableTodo);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AALA;AAUA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAAA;AACA;AACA;AACA;AAdA;AAiBA;AAAA;AAAA;AACA;AACA;AAHA;AAOA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AARA;AAYA;AAAA;AAAA;AASA;AAGA;;;;A","sourceRoot":""}