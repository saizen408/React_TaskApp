{"ast":null,"code":"import _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nvar __jsx = React.createElement;\nimport React, { useContext, memo, useEffect } from \"react\";\nimport { SortableElement } from \"react-sortable-hoc\";\nimport useToggleState from \"./hooks/useToggleState\";\nimport EditTodoForm from \"./EditTodoForm\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport Switch from \"@material-ui/core/Switch\";\nimport { useSnackbar } from \"notistack\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport { DispatchContext } from \"./contexts/todos.context\";\nimport { LanguageContext } from \"./contexts/LanguageContext\";\nimport { Paper } from \"@material-ui/core\";\nimport moment from \"moment\";\nimport { words } from \"./words\";\nvar DraggableTodo = SortableElement(function (_ref) {\n  var _id = _ref._id,\n      description = _ref.description,\n      completed = _ref.completed,\n      updatedAt = _ref.updatedAt,\n      sorted = _ref.sorted,\n      tasksDBIdx = _ref.tasksDBIdx;\n  var dispatch = useContext(DispatchContext);\n\n  var _useContext = useContext(LanguageContext),\n      language = _useContext.language;\n\n  var _useToggleState = useToggleState(false),\n      _useToggleState2 = _slicedToArray(_useToggleState, 2),\n      isEditing = _useToggleState2[0],\n      toggle = _useToggleState2[1];\n\n  var _useSnackbar = useSnackbar(),\n      enqueueSnackbar = _useSnackbar.enqueueSnackbar;\n\n  var lastUpdated = words[language].lastUpdated;\n\n  var handleDeleteClick = function handleDeleteClick() {\n    enqueueSnackbar(\"\\u274C Deleted Task: \\\"\".concat(description, \"\\\"\"));\n  };\n\n  var handleToggleClick = function handleToggleClick() {\n    enqueueSnackbar(\"Good work! \\uD83D\\uDCAA Task: \\\"\".concat(description, \"\\\" completed!\"));\n  };\n\n  var formatedDate = function formatedDate() {\n    moment.locale(language);\n    return moment(updatedAt).format(\"lll\");\n  };\n\n  return __jsx(Paper, {\n    elevation: 3\n  }, __jsx(ListItem, {\n    style: {\n      height: \"65px\"\n    },\n    divider: true\n  }, isEditing ? __jsx(EditTodoForm, {\n    _id: _id,\n    tasksDBIdx: tasksDBIdx,\n    sorted: sorted,\n    description: description,\n    toggleEditForm: toggle\n  }) : __jsx(React.Fragment, null, __jsx(Switch, {\n    tabIndex: -1,\n    onChange: function onChange() {\n      sorted({\n        type: \"TOGGLE\",\n        id: _id,\n        completed: completed\n      });\n\n      if (tasksDBIdx !== undefined) {\n        dispatch({\n          type: \"TOGGLE\",\n          id: tasksDBIdx._id,\n          completed: completed\n        });\n      }\n\n      console.log(completed);\n      completed ? null : handleToggleClick();\n    },\n    checked: completed\n  }), __jsx(ListItemText, {\n    style: {\n      textDecoration: completed ? \"line-through\" : \"none\"\n    },\n    primary: description,\n    secondary: \"\".concat(lastUpdated, \": \").concat(formatedDate())\n  }), __jsx(ListItemSecondaryAction, null, __jsx(IconButton, {\n    \"aria-label\": \"Delete\",\n    onClick: function onClick() {\n      sorted({\n        type: \"REMOVE\",\n        id: _id\n      });\n\n      if (tasksDBIdx !== undefined) {\n        dispatch({\n          type: \"REMOVE\",\n          id: tasksDBIdx._id\n        });\n      }\n\n      handleDeleteClick();\n    }\n  }, __jsx(DeleteIcon, null)), __jsx(IconButton, {\n    \"aria-label\": \"Edit\",\n    onClick: toggle\n  }, __jsx(EditIcon, null))), \" \")));\n});\nexport default memo(DraggableTodo);","map":null,"metadata":{},"sourceType":"module"}