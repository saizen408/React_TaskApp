{"ast":null,"code":"import axios from 'axios';\nimport React, { useContext } from 'react';\nimport { UserContext, UserProvider } from './contexts/user.context';\nexport async function handleAuthSSR() {\n  const token = useContext(UserContext);\n  const proxyUrl = 'https://cors-anywhere.herokuapp.com/';\n  const targetUrl = 'https://owusu-task-manager.herokuapp.com/tasks';\n\n  try {\n    const res = await axios.get(proxyUrl + targetUrl, {\n      headers: {\n        Authorization: 'Bearer ' + token.token\n      }\n    });\n    const {\n      data\n    } = res; // const data = res.data\n\n    console.log(data);\n    return {\n      posts: data\n    };\n  } catch (e) {\n    console.error('Error:', e);\n  }\n}","map":{"version":3,"sources":["/Users/ericowusu/Documents/React _Course_Projects/Next/first-next/components/handleAuthSSR.js"],"names":["axios","React","useContext","UserContext","UserProvider","handleAuthSSR","token","proxyUrl","targetUrl","res","get","headers","Authorization","data","console","log","posts","e","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,SAASC,WAAT,EAAsBC,YAAtB,QAA0C,yBAA1C;AAEA,OAAO,eAAeC,aAAf,GAA+B;AACpC,QAAMC,KAAK,GAAGJ,UAAU,CAACC,WAAD,CAAxB;AACA,QAAMI,QAAQ,GAAG,sCAAjB;AACA,QAAMC,SAAS,GAAG,gDAAlB;;AAEA,MAAI;AACF,UAAMC,GAAG,GAAG,MAAMT,KAAK,CAACU,GAAN,CAAUH,QAAQ,GAAGC,SAArB,EAAgC;AAChDG,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAE,YAAYN,KAAK,CAACA;AAD1B;AADuC,KAAhC,CAAlB;AAKA,UAAM;AAAEO,MAAAA;AAAF,QAAWJ,GAAjB,CANE,CAMoB;;AACtBK,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,WAAO;AACLG,MAAAA,KAAK,EAAEH;AADF,KAAP;AAGD,GAXD,CAWE,OAAOI,CAAP,EAAU;AACVH,IAAAA,OAAO,CAACI,KAAR,CAAc,QAAd,EAAwBD,CAAxB;AACD;AACF","sourcesContent":["import axios from 'axios';\nimport React, { useContext } from 'react';\nimport { UserContext, UserProvider } from './contexts/user.context';\n\nexport async function handleAuthSSR() {\n  const token = useContext(UserContext);\n  const proxyUrl = 'https://cors-anywhere.herokuapp.com/';\n  const targetUrl = 'https://owusu-task-manager.herokuapp.com/tasks';\n\n  try {\n    const res = await axios.get(proxyUrl + targetUrl, {\n      headers: {\n        Authorization: 'Bearer ' + token.token\n      }\n    });\n    const { data } = res; // const data = res.data\n    console.log(data);\n    return {\n      posts: data\n    };\n  } catch (e) {\n    console.error('Error:', e);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}