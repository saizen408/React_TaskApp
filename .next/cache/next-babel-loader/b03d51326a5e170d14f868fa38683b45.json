{"ast":null,"code":"import { useReducer, useEffect } from \"react\";\nimport { handleAuthSSR } from \"../handleAuthSSR\";\n\nfunction useDBReducer(defaultVal, todoReducer) {\n  const {\n    0: state,\n    1: dispatch\n  } = useReducer(todoReducer, defaultVal, async ctx => {\n    try {\n      const res = await handleAuthSSR(ctx);\n\n      if (res.data) {\n        return res.data;\n      }\n    } catch (e) {\n      console.log(e);\n      return defaultVal;\n    }\n  }); //maybe use effect here??\n\n  console.log(\"state after the reducer:\", state);\n  return [state, dispatch];\n}\n\nexport { useDBReducer };","map":{"version":3,"sources":["/Users/ericowusu/Documents/React _Course_Projects/Next/first-next/components/hooks/useDBReducer.js"],"names":["useReducer","useEffect","handleAuthSSR","useDBReducer","defaultVal","todoReducer","state","dispatch","ctx","res","data","e","console","log"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,SAArB,QAAsC,OAAtC;AACA,SAASC,aAAT,QAA8B,kBAA9B;;AAEA,SAASC,YAAT,CAAsBC,UAAtB,EAAkCC,WAAlC,EAA+C;AAC7C,QAAM;AAAA,OAACC,KAAD;AAAA,OAAQC;AAAR,MAAoBP,UAAU,CAACK,WAAD,EAAcD,UAAd,EAA0B,MAAMI,GAAN,IAAa;AACzE,QAAI;AACF,YAAMC,GAAG,GAAG,MAAMP,aAAa,CAACM,GAAD,CAA/B;;AACA,UAAIC,GAAG,CAACC,IAAR,EAAc;AACZ,eAAOD,GAAG,CAACC,IAAX;AACD;AACF,KALD,CAKE,OAAOC,CAAP,EAAU;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACA,aAAOP,UAAP;AACD;AACF,GAVmC,CAApC,CAD6C,CAa7C;;AACAQ,EAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCP,KAAxC;AACA,SAAO,CAACA,KAAD,EAAQC,QAAR,CAAP;AACD;;AAED,SAASJ,YAAT","sourcesContent":["import { useReducer, useEffect } from \"react\";\nimport { handleAuthSSR } from \"../handleAuthSSR\";\n\nfunction useDBReducer(defaultVal, todoReducer) {\n  const [state, dispatch] = useReducer(todoReducer, defaultVal, async ctx => {\n    try {\n      const res = await handleAuthSSR(ctx);\n      if (res.data) {\n        return res.data;\n      }\n    } catch (e) {\n      console.log(e);\n      return defaultVal;\n    }\n  });\n\n  //maybe use effect here??\n  console.log(\"state after the reducer:\", state);\n  return [state, dispatch];\n}\n\nexport { useDBReducer };\n"]},"metadata":{},"sourceType":"module"}